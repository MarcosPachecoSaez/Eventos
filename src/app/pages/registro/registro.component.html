<div class="registro-container">
  <h2>Crear cuenta</h2>

  <form #form="ngForm" (ngSubmit)="registrar(form)">
    <div class="campo">
      <label for="nombre">Nombre:</label>
      <input
        type="text"
        id="nombre"
        name="nombre"
        [(ngModel)]="formData.nombre"
        required
        (focus)="setCampoActivo('nombre')"
        (blur)="limpiarCampoActivo()"
      />
    </div>

    <div class="campo">
      <label for="email">Correo electrónico:</label>
      <input
        type="email"
        id="email"
        name="email"
        [(ngModel)]="formData.email"
        required
        email
        (focus)="setCampoActivo('email')"
        (blur)="limpiarCampoActivo()"
      />
      <div *ngIf="correoExistente" class="error">
        ❌ Este correo ya está registrado
      </div>
    </div>

    <div class="campo">
      <label for="contrasena">Contraseña:</label>
      <input
        type="password"
        id="contrasena"
        name="contrasena"
        [(ngModel)]="formData.contrasena"
        required
        minlength="8"
        (focus)="setCampoActivo('contrasena')"
        (blur)="limpiarCampoActivo()"
      />
      <small
        >Debe tener al menos 8 caracteres, 1 mayúscula, 1 minúscula y 1
        número.</small
      >
    </div>

    <div class="campo">
      <label for="edad">Edad:</label>
      <input
        type="number"
        id="edad"
        name="edad"
        [(ngModel)]="formData.edad"
        required
        min="18"
        (focus)="setCampoActivo('edad')"
        (blur)="limpiarCampoActivo()"
      />
    </div>

    <button type="submit" [disabled]="form.invalid">Registrarse</button>

    <div *ngIf="registroExitoso" class="exito">
      ✅ Registro exitoso. Revisa tu correo para confirmar la cuenta.
    </div>
  </form>
</div>
