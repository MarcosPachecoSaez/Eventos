<app-navbar></app-navbar>

<div class="page-wrapper">
  <div class="registro-container">
    <div class="header-icon">ğŸ‘¤</div>
    <h2>Crear cuenta</h2>
    <p class="subtitle">Ãšnete a la mejor plataforma de eventos</p>

    <form #form="ngForm" (ngSubmit)="registrar(form)">
    <div class="campo">
      <label for="nombre">Nombre:</label>
      <input
        type="text"
        id="nombre"
        name="nombre"
        [(ngModel)]="formData.nombre"
        required
        (focus)="setCampoActivo('nombre')"
        (blur)="limpiarCampoActivo()"
      />
    </div>

    <div class="campo">
      <label for="email">Correo electrÃ³nico:</label>
      <input
        type="email"
        id="email"
        name="email"
        [(ngModel)]="formData.email"
        required
        email
        (focus)="setCampoActivo('email')"
        (blur)="limpiarCampoActivo()"
      />
      <div *ngIf="correoExistente" class="error">
        âŒ Este correo ya estÃ¡ registrado
      </div>
    </div>

    <div class="campo">
      <label for="contrasena">ContraseÃ±a:</label>
      <input
        type="password"
        id="contrasena"
        name="contrasena"
        [(ngModel)]="formData.contrasena"
        required
        minlength="8"
        (focus)="setCampoActivo('contrasena')"
        (blur)="limpiarCampoActivo()"
      />
      <small
        >Debe tener al menos 8 caracteres, 1 mayÃºscula, 1 minÃºscula y 1
        nÃºmero.</small
      >
    </div>

    <div class="campo">
      <label for="edad">Edad:</label>
      <input
        type="number"
        id="edad"
        name="edad"
        [(ngModel)]="formData.edad"
        required
        min="18"
        (focus)="setCampoActivo('edad')"
        (blur)="limpiarCampoActivo()"
      />
    </div>

    <button type="submit" [disabled]="form.invalid">ğŸš€ Registrarse</button>

    <div *ngIf="registroExitoso" class="exito">
      âœ… Registro exitoso. Revisa tu correo para confirmar la cuenta.
    </div>
  </form>
  </div>
</div>
