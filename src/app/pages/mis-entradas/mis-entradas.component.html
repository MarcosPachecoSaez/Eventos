<app-navbar></app-navbar>

<main class="mis-entradas">
  <h2>Mis Entradas</h2>

  <div *ngIf="mostrarExito" class="alerta-exito">
    âœ… Â¡Compra realizada con Ã©xito!
  </div>

  <div *ngIf="tickets.length === 0">No tienes entradas compradas aÃºn.</div>

  <div *ngFor="let t of tickets" class="ticket-card">
    <h3>{{ t.eventos.nombre }} ({{ t.cantidad }} ğŸŸï¸)</h3>
    <p>Comprado el {{ t.created_at | date:'short' }}</p>

    <!-- QR desde API -->
    <img
      [src]="'https://api.qrserver.com/v1/create-qr-code?data=' + t.codigo_qr + '&size=128x128'"
      alt="CÃ³digo QR"
    />

    <button (click)="generarPDF(t)">ğŸ“„ Descargar PDF</button>
    <button (click)="enviarPDFPorCorreo(t)">âœ‰ï¸ Enviar por correo</button>


    <p class="nombre-evento-final">
      ğŸµ Entrada para <strong>{{ t.eventos.nombre }}</strong>
    </p>
  </div>
</main>
