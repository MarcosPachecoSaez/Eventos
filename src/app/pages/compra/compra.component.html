<app-navbar></app-navbar>

<main class="compra-container" *ngIf="evento">
  <h2 class="evento-nombre">{{ evento.nombre }}</h2>
  <p class="evento-info">ğŸ“… {{ evento.fecha | date:'fullDate' }}</p>
  <p class="evento-info">ğŸ’² {{ evento.precio | currency:'CLP' }}</p>

  <form (ngSubmit)="comprar()" class="compra-form">
    <label>
      Cantidad:
      <input type="number" [(ngModel)]="cantidad" name="cantidad" min="1" required/>
    </label>
    <button type="submit" [disabled]="comprando">
      {{ comprando ? 'Procesando...' : 'Comprar Entradas' }}
    </button>
  </form>

  <p class="mensaje">{{ mensaje }}</p>

  <div *ngIf="codigoQr" class="qr-section">
    <p>Tu entrada:</p>
    <img
      [src]="'https://api.qrserver.com/v1/create-qr-code?data=' + codigoQr + '&size=200x200'"
      alt="CÃ³digo QR"
      class="qr-img"
    />
    <p><code>{{ codigoQr }}</code></p>
  </div>
</main>
